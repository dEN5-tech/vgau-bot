# Телеграм Меню Редактор

Редактор структуры меню для телеграм-бота, написанный на Rust с использованием egui и WebAssembly.

## Возможности

- Создание структуры меню телеграм-бота
- Добавление и редактирование пунктов меню
- Экспорт/импорт структуры меню в JSON формате
- Работает как нативное приложение и в браузере (WebAssembly)

## Сборка и запуск

### Зависимости

Вам потребуются:
- Rust и Cargo (https://rustup.rs/)
- wasm-pack (https://rustwasm.github.io/wasm-pack/installer/)

### Нативное приложение

```bash
# Сборка и запуск
cargo run --release
```

### WebAssembly версия

```bash
# Сборка WASM версии
./build_wasm.sh

# Запуск локального сервера
python -m http.server -d pkg
```

После запуска сервера, откройте браузер по адресу http://localhost:8000/

## Разработка

### Структура проекта

- `src/lib.rs` - основная библиотека с логикой приложения
- `src/main.rs` - точка входа для нативного приложения
- `build.rs` - скрипт сборки, который задаёт параметры и выполняет предварительные действия
- `index.html` - HTML для веб-версии
- `build_wasm.sh` - скрипт сборки WASM версии
- `static/` - каталог для статических файлов (иконки, стили, изображения)

### Процесс сборки

Процесс сборки управляется двумя компонентами:

1. `build.rs` - скрипт Cargo, который выполняется во время сборки и задаёт переменные окружения, копирует файлы и выполняет другие задачи подготовки.

2. `build_wasm.sh` - скрипт оболочки, который вызывает wasm-pack для сборки WebAssembly версии и копирует дополнительные файлы в выходной каталог.

#### Переменные, доступные в коде

`build.rs` делает доступными следующие переменные:

- `GIT_HASH` - хеш текущего Git-коммита (если доступен)
- `CARGO_PKG_VERSION` - версия из Cargo.toml 